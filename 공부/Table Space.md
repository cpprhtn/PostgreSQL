# PostgreSQL에서의 테이블 스페이스

## 테이블 스페이스의 개념

- **테이블 스페이스**는 PostgreSQL에서 데이터베이스 객체(테이블, 인덱스 등)를 저장하는 논리적인 저장 공간이다.
- 테이블 스페이스는 실제 물리적 파일이 저장될 위치를 지정하는 역할을 하며, DB 객체를 특정 디렉토리에 저장하도록 설정할 수 있다.

## 주요 특징

- **논리적 저장소**: 테이블 스페이스는 실제 디스크나 파일 시스템에 대한 논리적인 맵핑을 제공한다.
- **다수의 테이블 스페이스**: 하나의 데이터베이스에서 여러 개의 테이블 스페이스를 사용할 수 있으며, 테이블이나 인덱스를 여러 테이블 스페이스에 분산할 수 있다.
- **성능 최적화**: 테이블 스페이스를 적절히 분리하여 성능을 최적화할 수 있다. 예를 들어, 자주 조회되는 테이블은 빠른 스토리지에, 로그 데이터는 느린 스토리지에 저장하는 방식이다.

## 테이블 스페이스의 사용 예

- **기본 테이블 스페이스**: PostgreSQL 설치 시 자동으로 `pg_default`라는 기본 테이블 스페이스가 생성된다.
- **사용자 정의 테이블 스페이스**: 성능이나 관리 측면에서 특정 테이블이나 인덱스를 별도의 디렉토리로 분리할 수 있다.

## 명령어 예시

- **테이블 스페이스 생성**

  ```sql
  CREATE TABLESPACE my_tablespace LOCATION '/path/to/directory';
  ```

- **테이블 스페이스 확인**

  ```sql
  SELECT spcname FROM pg_tablespace;
  ```

- **테이블을 특정 테이블 스페이스에 저장**
  ```sql
  CREATE TABLE my_table (
      id serial PRIMARY KEY,
      name text
  ) TABLESPACE my_tablespace;
  ```

## 테이블 스페이스 사용 이점

| 구 분                     | 내 용                                                                                           |
| ------------------------- | ----------------------------------------------------------------------------------------------- |
| **데이터 분산**           | 데이터 파일을 여러 디스크에 분산시켜 I/O 성능을 향상시킬 수 있음                                |
| **성능 최적화**           | 자주 사용되는 데이터와 덜 사용되는 데이터를 서로 다른 디스크에 저장하여 성능을 최적화할 수 있음 |
| **백업 및 복구의 용이성** | 특정 테이블스페이스만 백업하거나 복원할 수 있어 관리가 용이함                                   |
| **디스크 공간 관리**      | 데이터베이스의 데이터 파일을 관리하기 쉽게 나누어 디스크 공간을 효율적으로 사용할 수 있음       |
| **쿼리 성능 향상**        | 테이블스페이스를 SSD와 같은 고속 저장소에 위치시켜 쿼리 성능을 향상시킬 수 있음                 |
| **유연한 데이터 관리**    | 특정 테이블이나 인덱스를 별도의 테이블스페이스에 저장하여 관리 유연성을 높일 수 있음            |
